<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
 
  <title>Shiraj`s Drive</title>
      <link rel="icon"  href="/favicon.ico" /> 
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.css" rel="stylesheet" />
<link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.css"
    rel="stylesheet"
/>

  <link rel="stylesheet" href="/sidebar.css">
</head>
<body class="bg-gray-800  overflow-x-hidden">

  
        <div class="fixed top-0 z-50 w-full flex items-center justify-between px-4 p-4
      font-medium text-[1.2rem] text-white  bg-black border-b border-gray-800">
     <h1 class="text-2xl sm:text-sm font-bold  flex gap-3 text-4xl">
       <img src="/logo.png" class="ml-10 sm:ml-0 h-12 w-12   shadow-[0_0_20px_rgba(134,239,172,0.9)]  
            hover:shadow-[0_0_35px_6px_rgba(134,239,172,0.7)] rounded-full"/>
       <p class="hidden sm:block">Shiraj`s Drive</p> 
       <p class="block sm:hidden m-2 text-3xl">Shiraj`s Drive</p>
      </h1>
       <!-- Mobile Menu Button -->
 

  <button onclick="showpop()"
  class="bg-green-500 shadow-[0_0_20px_rgba(134,239,172,0.8)]  
            hover:shadow-[0_0_35px_6px_rgba(134,239,172,0.7)]  text-white font-bold py-3 px-5
  absolute top-4 right-4 text-xl rounded-xl block sm:block md:inline-block">
  Upload File
</button>

    </div>
 

    <body  >
    <div class=" hidden sm:block sidebar left-0 top-0 h-screen w-90 bg-black border-r border-gray-700">       
        <div class="sidebar__header">
            <img src="/logo.png" width="44" height="44" viewBox="0 0 34 34">
                 
                <defs>
                <linearGradient id="gradient2" x2="0" y2="1">
                    <stop offset="5%" stop-color="#19c9ff" />
                    <stop offset="95%" stop-color="#028fba" />
                </linearGradient>
                </defs>
            </svg>
            <h1 class="text-4xl">Shiraj`s Drive</h1>
        </div>
        
        
        <div class="sidebar__items ">
            <div class="btn-container">
                <div class="gradient-box">
                    <a href="/files">
                    <button class="btn" id="sidebarButton01">
                        <div class="btn-text">
                            <i class="ri-home-4-line">
                            <defs>
                            <linearGradient id="gradient" x2="0" y2="1">
                                <stop offset="5%" stop-color="#e6e6e6" />
                                <stop offset="95%" stop-color="#a6a6a6" />
                            </linearGradient>
                            </defs>
                            </i>
                            All Files
                        </div>
                    </button>  
                </div>
            </div>
            <div class="btn-container">
                <div class="gradient-box">
                    <a href="/images">
                    <button class="btn" id="sidebarButton02">
                        <div class="btn-text">
                             <i class="ri-file-image-line text-2xl"> 
                            <defs>
                            <linearGradient id="gradient" x2="0" y2="1">
                                <stop offset="5%" stop-color="#e6e6e6" />
                                <stop offset="95%" stop-color="#a6a6a6" />
                            </linearGradient>
                            </defs>
                            </i>
                            Images
                        </div>
                    </button></a>
                </div>
            </div>
            <div class="btn-container">
                <div class="gradient-box">
                    <a href="/audio">
                    <button class="btn" id="sidebarButton03">
                        <div class="btn-text">
                             <i class="ri-file-music-line  text-2xl"> 
                                <stop offset="5%" stop-color="#e6e6e6" />
                                <stop offset="95%" stop-color="#a6a6a6" />
                            </linearGradient>
                            </defs>
                            </i>
                            Music
                        </div>
                    </button></a>
                </div>
            </div>
            <div class="btn-container">
 
                <div class="gradient-box">
                         <a href="/videos">
                    <button class="btn" id="sidebarButton04">
                        <div class="btn-text">
                            <i class="ri-folder-video-fill text-xl  text-2xl"> 
                            <linearGradient id="gradient" x2="0" y2="1">
                                <stop offset="5%" stop-color="#e6e6e6" />
                                <stop offset="95%" stop-color="#a6a6a6" />
                            </linearGradient>
                            </defs>
                          </i>
                            Videos  
                             
                        </div>
                    </button></a>
                </div>
            </div> 
            <a href="/pdfs"> 
            <div class="btn-container">
               
                <div class="gradient-box">
                    <button class="btn" id="sidebarButton05">
                        <div class="btn-text">
                             <i class="ri-file-pdf-2-line  text-2xl">
                            <defs>
                            <linearGradient id="gradient" x2="0" y2="1">
                                <stop offset="5%" stop-color="#e6e6e6" />
                                <stop offset="95%" stop-color="#a6a6a6" />
                            </linearGradient>
                            </defs>
                          </i>
                            PDFs
                        </div>
                    </button>
                </div>
            </div> </a>
            <div class="btn-container"></a>
                <div class="gradient-box">
                    <a href="/zip"> 
                    <button class="btn" id="sidebarButton06">
                        <div class="btn-text">
                             <i class="ri-folder-zip-line text-2xl"> 
                             <defs></defs>
                            <linearGradient id="gradient" x2="0" y2="1">
                                <stop offset="5%" stop-color="#e6e6e6" />
                                <stop offset="95%" stop-color="#a6a6a6" />
                            </linearGradient>
                            </defs>
                            </i>
                            ZIPs
                        </div>
                    </button>
                    </a>
                </div>
            </div>
             
            <div class="btn-container">
                <div class="gradient-box">
                    <a href="/apks">
                    <button class="btn" id="sidebarButton08">
                        <div class="btn-text">
                             <i class="ri-android-line text-2xl"> 
                            <defs>
                            <linearGradient id="gradient" x2="0" y2="1">
                                <stop offset="5%" stop-color="#e6e6e6" />
                                <stop offset="95%" stop-color="#a6a6a6" />
                            </linearGradient>
                            </defs>
                           </i>
                            APKs
                        </div>
                    </button></a>
                </div>
            </div>

              <div class="btn-container">
                <div class="gradient-box">
                    <a href="/profile">
                    <button class="btn" id="sidebarButton09">
                        <div class="btn-text">
                             <i class="ri-account-circle-line">
                            <defs>
                            <linearGradient id="gradient" x2="0" y2="1">
                                <stop offset="5%" stop-color="#e6e6e6" />
                                <stop offset="95%" stop-color="#a6a6a6" />
                            </linearGradient>
                            </defs>
                          </i>
                            Profile
                        </div>
                    </button> </a>
                </div>
            </div>
        </div>
    </div>
 
 
 <script src="/home.js"></script>
 
</body>

<body class="bg-black text-white mt-20 relative">

<!-- ðŸ”˜ MOBILE MENU BUTTON -->
<button id="menuBtn"
  class="md:hidden  left-4 z-50
         bg-black border border-gray-700
         p-2 rounded-lg ">
<i class="ri-sidebar-fold-line text-2xl"></i>
</button>

<!-- ðŸŒ‘ OVERLAY -->
<div id="overlay"
  class="fixed inset-0 bg-black/60 hidden z-40 md:hidden"></div>

<!-- ðŸ“‚ SIDEBAR -->
<div id="sidebar"
  class="fixed left-0 top-0 h-screen w-72 bg-black border-r border-gray-700
         transform transition-transform duration-300 ease-in-out
         -translate-x-full md:translate-x-0
         z-50">

  <!-- HEADER -->
  <div class="flex items-center gap-3 px-6 py-4 border-b border-gray-700">
    <img src="/logo.png" class="w-10 h-10">
    <h1 class="text-xl font-semibold">Shirajâ€™s Drive</h1>
  </div>

  <!-- ITEMS -->
  <div class="mt-4 space-y-2 px-4 md:block ">

    <a href="/files" class="sidebar-link1">
      <i class="ri-home-4-line"></i> All Files
    </a>

    <a href="/images" class="sidebar-link1">
      <i class="ri-image-line"></i> Images
    </a>

    <a href="/audio" class="sidebar-link1">
      <i class="ri-music-line"></i> Music
    </a>

    <a href="/videos" class="sidebar-link1">
      <i class="ri-video-line"></i> Videos
    </a>

    <a href="/pdfs" class="sidebar-link1">
      <i class="ri-file-pdf-line"></i> PDFs
    </a>

    <a href="/zip" class="sidebar-link1">
      <i class="ri-folder-zip-line"></i> ZIPs
    </a>

    <a href="/apks" class="sidebar-link1">
      <i class="ri-android-line"></i> APKs
    </a>

    <a href="/profile" class="sidebar-link1">
      <i class="ri-account-circle-line"></i> Profile
    </a>

  </div>
</div>
<script src="/sidebar.js"></script>
</body>


 
<main> 

    <div class=" h-screen overflow-y-auto p-6 pt-24  sm:mr-0">
   <p class="flex items-center gap-2 text-gray-300 text-2xl mb-2 font-bold font-medium">
  Files
  <span
    class="px-3 py-1 text-sm font-bold text-emerald-300
           rounded-full bg-emerald-500/10
           border border-emerald-500/30
           shadow-[0_0_12px_rgba(16,185,129,0.6)]">
    <%= files.length %>
  </span>
</p>


      <% if (!files || files.length === 0) { %>

<nav class=" pt-24 flex items-center justify-center text-white">

  <!-- Glass Card -->
  <div class="relative max-w-md w-full p-10 rounded-3xl
              bg-white/9 backdrop-blur-xl
              border border-white/10
              shadow-[0_0_60px_rgba(16,185,129,0.15)]
              hover:shadow-[0_0_80px_rgba(16,185,129,0.35)]
              transition-all duration-500">

    <!-- Glow Orb -->
    <div class="absolute -top-10 left-1/2 -translate-x-1/2
                w-32 h-32 rounded-full bg-emerald-500/30 blur-3xl"></div>

    <!-- Icon -->
    <div class="flex justify-center mb-6">
      <div class="w-20 h-20 rounded-2xl
                  bg-gradient-to-br from-emerald-400 to-green-600
                  flex items-center justify-center
                  shadow-[0_0_35px_rgba(16,185,129,0.8)]
                  animate-pulse">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10" fill="none"
             viewBox="0 0 24 24" stroke="white" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round"
                d="M12 16v-8m0 0l-3 3m3-3l3 3M4 16h16" />
        </svg>
      </div>
    </div>

    <!-- Text -->
    <h1 class="text-3xl font-extrabold text-center mb-2 tracking-wide">
      No files yet
    </h1>
    <p class="text-center text-gray-400 mb-8">
      Upload your first file and keep everything in one place.
    </p>

    <!-- Button -->
    <button onclick="showpop()"
      class="group relative w-full py-4 rounded-2xl text-lg font-semibold
             bg-gradient-to-r from-emerald-400 to-green-600
             shadow-[0_0_35px_rgba(16,185,129,0.6)]
             hover:shadow-[0_0_60px_rgba(16,185,129,1)]
             transition-all duration-300 overflow-hidden">

      <span class="relative z-10 flex items-center justify-center gap-3">
        Upload your file
        <span class="group-hover:translate-x-1 transition-transform">âžœ</span>
      </span>

      <!-- Button Shine -->
      <span
        class="absolute inset-0 bg-white/20 translate-x-[-100%]
               group-hover:translate-x-[100%]
               transition-transform duration-700 skew-x-12">
      </span>
    </button>
  </div>
  </nav>
 

  <% } else { %>

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mr-0">
  <% files.forEach(file => { %>
    <div class="relative bg-gray-900 text-white rounded-2xl border border-gray-700 overflow-hidden shadow-[0_0_35px_6px_rgba(134,239,172,0.2)] rounded
                hover:shadow-[0_10px_30px_rgba(134,239,172,0.7)] hover:scale-105 transition-all duration-300 p-3 flex flex-col">
        
      <!-- File preview -->
      <% if (file.fileType && file.fileType.startsWith('image/')) { %>
        <a href="/file/<%= file._id %>" class="relative group block rounded-xl overflow-hidden">
          <img src="<%= file.fileUrl %>" 
               class="h-44 w-full object-cover rounded-xl transition-transform duration-300 group-hover:scale-105" />
          <!-- Hover overlay -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"></div>
        </a>
      <% } else if (file.fileType === 'application/pdf') { %>
        <div class="h-44 flex items-center justify-center flex-col bg-red-100 text-red-800 rounded-xl text-6xl">
          <i class="ri-file-text-line"></i>
          <p class="text-lg mt-2 font-medium">PDF</p>
        </div>
      <% } else if (file.fileType && file.fileType.includes('video')) { %>
        <div class="h-44 flex items-center justify-center flex-col bg-purple-100 text-purple-800 rounded-xl text-6xl">
          <i class="ri-folder-video-fill"></i>
          <p class="text-lg mt-2 font-medium">Video</p>
        </div>
      <% } else if (file.fileType && file.fileType.includes('zip')) { %>
        <div class="h-44 flex items-center justify-center flex-col bg-yellow-100 text-yellow-800 rounded-xl text-6xl">
          <i class="ri-folder-zip-line"></i>
          <p class="text-lg mt-2 font-medium">ZIP</p>
        </div>
      <% } else if (file.fileType && file.fileType.includes('audio')) { %>
        <div class="h-44 flex items-center justify-center flex-col bg-indigo-100 text-indigo-800 rounded-xl text-6xl">
          <i class="ri-file-music-line"></i>
          <p class="text-lg mt-2 font-medium">Audio</p>
        </div>
      <% } else { %>
        <a href="/file/<%= file._id %>" class="block">
          <div class="h-44 flex items-center justify-center bg-gray-700 rounded-xl text-4xl">
            <i class="ri-file-line"></i>
          </div>
        </a>
      <% } %>

      <!-- File name -->
      <p class="mt-3 text-lg font-semibold truncate hover:text-green-400 transition-colors duration-300">
        <%= file.fileName %>
      </p>

      <!-- Actions -->
      <div class="mt-2 flex gap-2">
        <a href="<%= file.fileUrl %>" target="_blank" 
           class="flex-1 bg-green-600 hover:bg-green-500 text-white font-semibold py-1 rounded text-center transition-colors duration-300">
          View
        </a>
        <form action="/delete-file/<%= file._id %>" method="POST" class="flex-1">
          <button type="submit" 
                  class="w-full bg-red-600 hover:bg-red-500 text-white font-semibold py-1 rounded transition-colors duration-300">
            Delete
          </button>
        </form>
      </div>
    </div>
  <% }) %>
</div>


  <% } %>



   <div class="pop hidden fixed inset-0 flex items-center justify-center backdrop-blur-sm bg-black/50 z-50">
  <form action="/files" method="post" enctype="multipart/form-data" class="bg-gray-900 rounded-2xl p-6 w-11/12 sm:w-96 shadow-lg flex flex-col gap-4 relative">

    <!-- Close button -->
    <button type="button" onclick="hidepop()" 
            class="absolute top-4 right-4 text-white bg-red-500 hover:bg-red-700 rounded-full p-2 transition-colors">
      <i class="ri-close-line text-xl"></i>
    </button>

    <!-- File Input -->
    <label for="dropzone-file" 
           class="flex flex-col items-center justify-center w-full h-64 bg-gray-800 border-2 border-dashed border-gray-600 rounded-2xl cursor-pointer hover:bg-gray-700 hover:border-green-400 transition-all duration-300">
      <div class="flex flex-col items-center justify-center pt-5 pb-6 text-gray-200">
        <svg class="w-10 h-10 mb-4 text-green-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h3a3 3 0 0 0 0-6h-.025a5.56 5.56 0 0 0 .025-.5A5.5 5.5 0 0 0 7.207 9.021C7.137 9.017 7.071 9 7 9a4 4 0 1 0 0 8h2.167M12 19v-9m0 0-2 2m2-2 2 2"/>
        </svg>
        <p class="text-sm"><span class="font-semibold">Click to upload</span> or drag and drop</p>
        <p class="text-xs text-gray-400 mt-1">SVG, PNG, JPG, GIF, PDF, MP3, MP4, ZIP, APK (MAX.50MB)</p>
      </div>
      <input id="dropzone-file" type="file" class="hidden" name="file"/>
    </label>

    <!-- Upload Button -->
    <button type="submit" 
            class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 rounded shadow-md transition-all duration-300">
      Upload File
    </button>
  </form>
</div>
     </main>

  
    <script src="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.js"></script>


 
</body>

</html>
